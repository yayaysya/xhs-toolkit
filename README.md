# ğŸ“• å°çº¢ä¹¦MCPå·¥å…·åŒ…

[![è®¸å¯è¯](https://img.shields.io/github/license/aki66938/xhs-toolkit)](LICENSE)
[![å¾®ä¿¡å…¬ä¼—å·](https://img.shields.io/badge/å‡¯éšçš„æ— äººåŒ–ç”Ÿäº§çŸ©é˜µ-å…¬ä¼—å·-bule?style=flat-square&logo=wechat)](src/static/qrcode_for_gh_19088e185f66_258.jpg)

ä¸€ä¸ªå¼ºå¤§çš„å°çº¢ä¹¦è‡ªåŠ¨åŒ–å·¥å…·åŒ…ï¼Œæ”¯æŒé€šè¿‡MCPåè®®ä¸AIå®¢æˆ·ç«¯ï¼ˆå¦‚Claude Desktopç­‰ï¼‰é›†æˆï¼Œå®ç°æ™ºèƒ½å†…å®¹åˆ›ä½œå’Œå‘å¸ƒã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸª **Cookieç®¡ç†**: å®‰å…¨è·å–ã€éªŒè¯å’Œç®¡ç†å°çº¢ä¹¦ç™»å½•å‡­è¯
- ğŸ¤– **MCPåè®®æ”¯æŒ**: ä¸Claude Desktopç­‰AIå®¢æˆ·ç«¯æ— ç¼é›†æˆ
- ğŸ“ **è‡ªåŠ¨å‘å¸ƒ**: æ”¯æŒå›¾æ–‡å’Œè§†é¢‘ç¬”è®°çš„è‡ªåŠ¨åŒ–å‘å¸ƒ
- ğŸ‘¤ **ç”¨æˆ·ä¿¡æ¯**: è·å–ç”¨æˆ·æ¡£æ¡ˆ
- ğŸ¯ **ç»Ÿä¸€æ¥å£**: ä¸€ä¸ªå·¥å…·è§£å†³llmæ“ä½œå°çº¢ä¹¦è‡ªåŠ¨åŒ–éœ€æ±‚

## ğŸ“‹ åŠŸèƒ½æ¸…å•

- [x] **å›¾æ–‡å‘å¸ƒ** - æ”¯æŒå‘å¸ƒå›¾æ–‡ç¬”è®°
- [x] **è§†é¢‘å‘å¸ƒ** - æ”¯æŒå‘å¸ƒè§†é¢‘ç¬”è®° 
- [ ] **å†…å®¹æœç´¢** - æ”¯æŒæŒ‡å®šæœç´¢ï¼ˆå¼€å‘è®¡åˆ’ä¸­ï¼‰

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **æµè§ˆå™¨**: Google Chrome æµè§ˆå™¨
- **é©±åŠ¨**: ChromeDriver (`brew install chromedriver`)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# ä¸‹è½½å¹¶è¿è¡Œå®‰è£…è„šæœ¬
curl -sSL https://raw.githubusercontent.com/aki66938/xiaohongshu-mcp-toolkit/main/install.sh | bash

# æˆ–è€…æ‰‹åŠ¨è¿è¡Œ
git clone https://github.com/aki66938/xiaohongshu-mcp-toolkit.git
cd xiaohongshu-mcp-toolkit
bash install.sh
```

### ä¸‹è½½ä½¿ç”¨

1. ä» [Releasesé¡µé¢](https://github.com/aki66938/xhs-toolkit/releases/latest) ä¸‹è½½é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬
2. è§£å‹å¹¶è¿è¡Œï¼š
   ```bash
   # macOS/Linux
   chmod +x xhs-toolkit
   ./xhs-toolkit status
   
   # Windows
   xhs-toolkit.exe status
   ```

### ä»æºç è¿è¡Œ

```bash
git clone https://github.com/aki66938/xiaohongshu-mcp-toolkit.git
cd xiaohongshu-mcp-toolkit
pip install -r requirements.txt
python xhs_toolkit.py status
```



## ğŸ› ï¸ ä½¿ç”¨æŒ‡å—

### 1. åˆ›å»ºé…ç½®æ–‡ä»¶

å¤åˆ¶å¹¶ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
cp env_example .env
vim .env  # ç¼–è¾‘é…ç½®
```

**å¿…éœ€é…ç½®**ï¼š
```bash
# Chromeæµè§ˆå™¨è·¯å¾„
CHROME_PATH="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"

# ChromeDriverè·¯å¾„  
WEBDRIVER_CHROME_DRIVER="/opt/homebrew/bin/chromedriver"

# Cookieså­˜å‚¨è·¯å¾„
json_path="./xhs/cookies"
```

### 2. è·å–ç™»å½•å‡­è¯

```bash
./xhs-toolkit cookie save
```


åœ¨å¼¹å‡ºçš„æµè§ˆå™¨ä¸­ï¼š
1. ç™»å½•å°çº¢ä¹¦åˆ›ä½œè€…ä¸­å¿ƒ
2. ç¡®ä¿èƒ½æ­£å¸¸è®¿é—®åˆ›ä½œè€…ä¸­å¿ƒåŠŸèƒ½
3. å»ºè®®ç‚¹å‡»è¿›å…¥ã€å‘å¸ƒç¬”è®°ã€‘é¡µé¢ï¼Œç¡®è®¤æƒé™å®Œæ•´
4. å®ŒæˆåæŒ‰å›è½¦é”®ä¿å­˜

### 3. å¯åŠ¨MCPæœåŠ¡å™¨

```bash
./xhs-toolkit server start
```

### 4. å®¢æˆ·ç«¯é…ç½®
**Claude Desktop**

åœ¨ `~/.claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "xiaohongshu": {
      "command": "curl",
      "args": [
        "-N",
        "-H", "Accept: text/event-stream",
        "http://localhost:8000/sse"
      ]
    }
  }
}
```

**cherry studio**

åœ¨MCPé…ç½®ä¸­æ·»åŠ 

![Cherry Studioé…ç½®](src/static/cherrystudio.png)


**n8n**

åœ¨n8nçš„AI agentèŠ‚ç‚¹çš„toolä¸­æ·»åŠ é…ç½®é…ç½®

![n8nçš„AI agenté…ç½®](src/static/n8n_mcp.png)


## ğŸ”§ ä¸»è¦åŠŸèƒ½

### MCPå·¥å…·åˆ—è¡¨

| å·¥å…·åç§° | åŠŸèƒ½è¯´æ˜ | å‚æ•° | å¤‡æ³¨ |
|---------|----------|------|------|
| `test_connection` | æµ‹è¯•è¿æ¥ | æ—  | |
| `start_publish_task` | å¯åŠ¨å¼‚æ­¥å‘å¸ƒä»»åŠ¡ âš¡ | title, content, tags, images, videos |  |
| `check_task_status` | æ£€æŸ¥ä»»åŠ¡çŠ¶æ€ | task_id | é…åˆå¼‚æ­¥ä»»åŠ¡ä½¿ç”¨ |
| `get_task_result` | è·å–ä»»åŠ¡ç»“æœ | task_id | è·å–æœ€ç»ˆå‘å¸ƒç»“æœ |
| `publish_xiaohongshu_note` | å‘å¸ƒç¬”è®°ï¼ˆåŒæ­¥ï¼‰ | title, content, tags, images, videos | è§†é¢‘å‘å¸ƒå¯èƒ½è¶…æ—¶ |
| `search_xiaohongshu_notes` | æœç´¢ç¬”è®° | keyword, limit | |
| `get_xiaohongshu_user_info` | è·å–ç”¨æˆ·ä¿¡æ¯ | user_id | |

### ğŸ“± å¼‚æ­¥å‘å¸ƒæ¨¡å¼ âš¡ (v1.1.2æ–°å¢)

è§£å†³Cherry Studioç­‰MCPå®¢æˆ·ç«¯çš„è¶…æ—¶é—®é¢˜ï¼š

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. **å¯åŠ¨ä»»åŠ¡**ï¼š`start_publish_task("æ ‡é¢˜", "å†…å®¹", videos="è§†é¢‘è·¯å¾„")`
2. **æ£€æŸ¥è¿›åº¦**ï¼š`check_task_status("ä»»åŠ¡ID")`
3. **è·å–ç»“æœ**ï¼š`get_task_result("ä»»åŠ¡ID")`


### å¿«é€Ÿå‘å¸ƒ

```bash
# å›¾æ–‡å‘å¸ƒ
python xhs_toolkit.py publish "ä»Šæ—¥åˆ†äº«" "å†…å®¹æ–‡æœ¬" --tags "ç”Ÿæ´»,ç¾é£Ÿ" --images "/path/to/image1.jpg,/path/to/image2.jpg"

# è§†é¢‘å‘å¸ƒ ğŸ†•
python xhs_toolkit.py publish "è§†é¢‘åˆ†äº«" "è§†é¢‘å†…å®¹æè¿°" --tags "ç”Ÿæ´»,vlog" --videos "/path/to/video.mp4"

# å‘½ä»¤è¡Œå‘å¸ƒ
./xhs-toolkit publish "ä»Šæ—¥åˆ†äº«" "å†…å®¹æ–‡æœ¬" --tags "ç”Ÿæ´»,ç¾é£Ÿ" --images "/path/to/image1.jpg"

# é€šè¿‡Claudeå‘å¸ƒï¼ˆæ¨èï¼‰
# å›¾æ–‡ï¼šè¯·å‘å¸ƒä¸€ç¯‡å°çº¢ä¹¦ç¬”è®°ï¼Œæ ‡é¢˜ï¼š"ä»Šæ—¥åˆ†äº«"ï¼Œå†…å®¹ï¼š"..."ï¼Œå›¾ç‰‡è·¯å¾„ï¼š"/User/me/xhs/poster.png"
# è§†é¢‘ï¼šè¯·å‘å¸ƒä¸€ç¯‡å°çº¢ä¹¦è§†é¢‘ï¼Œæ ‡é¢˜ï¼š"ä»Šæ—¥vlog"ï¼Œå†…å®¹ï¼š"..."ï¼Œè§†é¢‘è·¯å¾„ï¼š"/User/me/xhs/video.mp4"
```

å‘å¸ƒåŸç†ï¼š
æ‰‹å·¥ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šå¼¹çª—è®©ç”¨æˆ·é€‰ä¸­æ–‡ä»¶è·¯å¾„
å‘Šè¯‰aiè·¯å¾„ä½ç½®ï¼Œaiä¼šæŠŠè·¯å¾„å‚æ•°å¯¹åº”ä¸¢ç»™mcpçš„å‚æ•°ä¸­ï¼Œå®Œæˆä¸Šä¼ åŠ¨ä½œ

**æ™ºèƒ½ç­‰å¾…æœºåˆ¶** ï¼š
- **å›¾ç‰‡ä¸Šä¼ **ï¼šå¿«é€Ÿä¸Šä¼ ï¼Œæ— éœ€ç­‰å¾…
- **è§†é¢‘ä¸Šä¼ **ï¼šè½®è¯¢æ£€æµ‹ä¸Šä¼ è¿›åº¦ï¼Œç­‰å¾…"ä¸Šä¼ æˆåŠŸ"æ ‡è¯†å‡ºç°
- **è¶…æ—¶ä¿æŠ¤**ï¼šæœ€é•¿ç­‰å¾…2åˆ†é’Ÿï¼Œé¿å…MCPè°ƒç”¨è¶…æ—¶ 
- **çŠ¶æ€ç›‘æ§**ï¼šDEBUGæ¨¡å¼æ˜¾ç¤ºè§†é¢‘æ–‡ä»¶å¤§å°å’Œæ—¶é•¿ä¿¡æ¯
- **é«˜æ•ˆè½®è¯¢**ï¼šæ¯2ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œç²¾ç¡®æ–‡æœ¬åŒ¹é… 





## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# æ£€æŸ¥çŠ¶æ€
./xhs-toolkit status

# Cookieç®¡ç†
./xhs-toolkit cookie save      # è·å–cookies
./xhs-toolkit cookie validate  # éªŒè¯cookies

# æœåŠ¡å™¨ç®¡ç†
./xhs-toolkit server start     # å¯åŠ¨æœåŠ¡å™¨
./xhs-toolkit server start --port 8080  # è‡ªå®šä¹‰ç«¯å£
./xhs-toolkit server stop      # åœæ­¢æœåŠ¡å™¨
./xhs-toolkit server status    # æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
```
## ğŸ” å®‰å…¨æ‰¿è¯º

- âœ… **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰æ•°æ®ä»…ä¿å­˜åœ¨æœ¬åœ°
- âœ… **å¼€æºé€æ˜**: ä»£ç å®Œå…¨å¼€æºï¼Œå¯å®¡è®¡
- âœ… **ç”¨æˆ·æ§åˆ¶**: æ‚¨å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®


## Future

**å…³äºåç»­ç‰ˆæœ¬å¼€å‘è®¡åˆ’**

ç›®å‰å·¥å…·ç®±é˜¶æ®µæ€§ä»»åŠ¡ç®—æ˜¯å‘Šä¸€æ®µè½ï¼Œå¯ç”¨å·¥å…·ä¸ºå›¾æ–‡å‘å¸ƒå’Œè§†é¢‘å‘å¸ƒ
å› æœªæ¥åŠä¸ªæœˆå†…ï¼Œä½œè€…å¯èƒ½ä¼šé¢ä¸´æ –å±…çŠ¶æ€çš„æ¨¡æ€è½¬æ¢æˆ–è€…å­˜åœ¨åæ ‡çš„æ‹“æ‰‘é‡æ„ï¼ˆæ¬å®¶ã€‚ã€‚ã€‚ï¼‰
æ•…ï¼Œä½œè€…å¤„äº---"è¡ŒåŠ¨è€…ç½‘ç»œçš„ã€Œéè¡ŒåŠ¨ã€æ‹“æ‰‘ "çŠ¶æ€ï¼ˆæš‚æ—¶åœå·¥ã€‚ã€‚ã€‚ï¼‰

æºä»£ç ä¸­åŸ‹äº†ä¸å°‘å‘ï¼Œè‡ªåŠ¨å‘å¸ƒçš„ä¸¤ä¸ªé‡ç‚¹åŠŸèƒ½å·²ç»å®Œæˆï¼Œå¦‚æœä¸å‡ºå¤§bugï¼ŒåŠŸèƒ½ä¸Šåº”è¯¥ä¸ä¼šå†æ›´æ–°ï¼Œå¯èƒ½ä¼šä¼˜åŒ–
åç»­çš„å¼€å‘é‡ç‚¹æ–¹å‘ä»¥é‡‡é›†ä½œè€…çš„é¡µé¢æ•°æ®ä¸ºä¸»ï¼Œåç»­å°†è€ƒè™‘å¼•å…¥llmå¯¹ä½œè€…çš„æ•°æ®é¢è¿›è¡Œåˆ†æï¼Œæä¾›ä¼˜åŒ–å»ºè®®è¯¸å¦‚æ­¤ç±»ã€‚

å½“ç„¶ï¼Œè™½ç„¶æºç æ–¹é¢æš‚æ—¶åœæ›´ï¼Œä½†æœ‰ç©ºä½™æ—¶é—´ä¼šè¡¥é½æ–‡æ¡£ï¼šä»åŸºç¡€é¡¹ç›®çš„æ­å»ºå¼€å§‹åˆ°ç†Ÿç»ƒä½¿ç”¨æœ¬å·¥å…·å†åˆ°åˆ©ç”¨æœ¬å·¥å…·å®Œæˆè‡ªåŠ¨åŒ–ä»»åŠ¡ç­‰ã€‚

æ–‡æ¡£å°†åœ¨å¾®ä¿¡å…¬ä¼—å·ä¸Šæ›´æ–°ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨ç‚¹å‡»æ–‡æ¡£é¡¶éƒ¨çš„èƒ¶å›ŠæŒ‰é’®æ‰«ç å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­å¼€å‘å®Œå–„å·¥å…·çš„åŠ¨åŠ›ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MITè®¸å¯è¯](LICENSE) å¼€æºã€‚

---

<div align="center">
Made with â¤ï¸ for content creators
</div> 
